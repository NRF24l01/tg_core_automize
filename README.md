# Ядро для всех моих надстроек над телегой

## Собсна как это должно работать
- Есть ядро, те эта штука
    - Единственная работает с тг напрямую
    - Никак не обрабатывает сообщения, просто бродкастит их клиентам
    - При получении сообщений(те задач для это ядра, по типу отправить сообщение, поставить реакцию и тд) это ядро их выполняет
- Есть клиент, это может быть логгер, ai ответчик, парсилка историй, авотреагировалка на сообщения
    - Он не связан с тг напрямую(нет файла сессии(может будет в публичной репе на гите, а не в приватке как эта по задумке))
    - Получает сообщение, если оно к нему относится, обрабатывает, если нет то пофиг
    - Если нужно что-то сделать, говорим это сделать

## Как эти болванки общаются?
*Собсна тут у нас есть n стульев*
- http запрос с проверкой есть ли новые месаджи(как тг бот)  **-**
    - Не оптимально
    - Я наигрался с http серверами ещё на проде
- вебсокеты **-**
    - Не интересно, наигрался
    - Оптимально, тк держится стрим. Но опять-же есть некоторые задержки(как-будто человек их заметит)
- gRPC **Хотелось бы, но -**
    - Низкоуровневые, те нет ничего лишнего + есть стрим нативно
        - Но блин слишком низкоуровневые
        - И хотят асинхрон
    - Нужно слишком много ...
- Настоящие, нефильтрованое, tcp сокеты **+ ОНИ +**
    - Низкоуровневые + стрим есть смысл жизни
        - Прикольно шлются жсонки
        - Нужно продумывать отправку нефиксированых пакетов(как будто там сложнее чем просто 2 вайла, и пару конвертов инта в байты)
    - За 2 года общения с ними всё ещё не наигрался, вкатывает мне такое писать(даже не вайбить)

## А почему вы это видите?
А самое интересное что я могу запостить это в канал, но это скорее всего никто не прочитает
Но тк по плану это постить вечером, есть шанс что кто-то это прочитает. А вот если днём, то...
А те кто прочитают скорее всего ничего не поймут. А если и поймут, то полезут на мой [гит](htpps://github.com/nrf24l01) и там ничего не найдут