# Что как куда и когда?
Тут описано как и в каком порядке пересылаются пакетики между ядром и агентами

## Порядок общения
- Агент инициализирует подключение
- Агент отправляет пакет с данными о себе
    - Имя агента
    - Какие сообщения нужны, list[str]
- Ему отвечают ОК
- Соединение не разрывается, и идёт двухсторонний стрим
    - Сервер отправляет агенту пакет с данными, типа сообщение пришло
    - Агент может отправить в любой момент сообщение серверу чтоб он что-то сделал, типа отправил сообщение

## Формат сообщений
### Авторизация
- name - имя
- required - список с id типов сообщений которые хочет получать клиент
#### Пример:
```json
{
    "name": "parrot",
    "required": [1, 2, 3, 4]
}
```